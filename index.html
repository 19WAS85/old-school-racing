<!DOCTYPE html>
<html>
  <head>
    <title>Old School Racing</title>
    <script src="old-school-racing-dev.js"></script>
  </head>
  <body>
    <script type="text/javascript">

      var track = new Track('Test Track');

      track.addSegments(1, { color: 0xEEEEEE });
      track.addSegments(20, { hill: 0.2 });
      track.addSegments(80);
      track.addSegments(20, { curve: -0.5, hill: -0.1 });
      track.addSegments(30, { curve: -0.5 });
      track.addSegments(20, { hill: -0.1 });
      track.addSegments(30, { curve: 0.5 });
      track.addSegments(20, { curve: 0.5, hill: -0.1 });
      track.addSegments(50);
      track.addSegments(50, { curve: -0.5 });
      track.addSegments(70, { curve: -0.2 });
      track.addSegments(300);
      track.addSegments(20, { curve: -0.5, hill: 0.1 });
      track.addSegments(80, { curve: -0.5 });
      track.addSegments(20, { hill: 0.1 });
      track.addSegments(15, { curve: -1.5 });
      track.addSegments(15, { curve: 1.5 });
      track.addSegments(100);

      for (var i = 0; i < 100; i++) {
        var index = Math.round(Math.random() * track.segments.length);
        var positionMod = Math.random() * 500;
        var side = i % 2 == 0 ? -1 : 1;
        track.addObject(index, 'assets/tree.png', (700 + positionMod) * side);
      }

      var c = new Car('assets/sidewinder.png');
      var c2 = new Car('assets/sidewinder.png');
      var race = new Race(track, [c, c2]);
      var render = new RaceRender(race);
      var keyboard = new KeyboardControl(c);

      c2.controls.gas = 0.1;

    </script>
  </body>
</html>
